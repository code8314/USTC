# AI_HW3

PB19111713钟颖康



### 6.5 分别用带有前向检验、MRV和最少约束值启发式的回溯算法手工求解**图6.2**中的密码算数问题。

|               | $C_3$ | $C_2$ | $C_1$ |      F      |      T      |      W      |      O      |      U      |      R      |
| :-----------: | :---: | :---: | :---: | :---------: | :---------: | :---------: | :---------: | :---------: | :---------: |
|    初始域     | {0,1} | {0,1} | {0,1} | {0,1,...,9} | {0,1,...,9} | {0,1,...,9} | {0,1,...,9} | {0,1,...,9} | {0,1,...,9} |
| After $C_3=1$ |   1   | {0,1} | {0,1} |     {1}     | {0,1,...,9} | {0,1,...,9} | {0,1,...,9} | {0,1,...,9} | {0,1,...,9} |
|  After $F=1$  |   1   | {0,1} | {0,1} |      1      |  {5,...,9}  | {0,2,...,9} | {0,2,...,9} | {0,2,...,9} | {0,2,...,9} |
| After $C_2=0$ |   1   |   0   | {0,1} |      1      |  {5,...,9}  |  {0,2,3,4}  | {0,2,4,6,8} | {0,2,...,9} | {0,2,...,9} |
| After $C_1=0$ |   1   |   0   |   0   |      1      |   {5,6,7}   |  {0,2,3,4}  |   {0,2,4}   |  {0,4,6,8}  |   {0,4,8}   |
|  After $O=4$  |   1   |   0   |   0   |      1      |     {7}     |    {0,3}    |      4      |    {0,6}    |     {8}     |
|  After $T=7$  |   1   |   0   |   0   |      1      |      7      |    {0,3}    |      4      |    {0,6}    |     {8}     |
|  After $R=8$  |   1   |   0   |   0   |      1      |      7      |    {0,3}    |      4      |    {0,6}    |      8      |
|  After $W=3$  |   1   |   0   |   0   |      1      |      7      |      3      |      4      |     {6}     |      8      |
|  After $U=6$  |   1   |   0   |   0   |      1      |      7      |      3      |      4      |      6      |      8      |

1. 选择$C_3$变量。它的域是{0,1}
2. 为$C_3$选择值1(和的前导数字非0，即F非0)
3. 选择只有一个剩余值的F
4. 为F选择值1。同时T、W、O、U、R都不能为1，且T必须大于等于5以产生进位
5. $C_2、C_1$的最小剩余值都为2，选择$C_2$
6. 0、1都能通过前向检验，为$C_2$选择值0。同时W必须小于5以免产生进位，且O是偶数
7. 选择只有一个剩余值的$C_1$
8. 0、1都能通过前向检验，为$C_1$选择值0。同时U必须是偶数
9. 由于没有$C_1,C_2$进位，O必须是小于5的偶数。同时由于O+O=R，所以R为{0,4,8}；T+T进位后余数为O，所以T$\leq$7
10. 经试错，O=0、2时均会产生矛盾，故为O选择值4
11. 选择只有一个剩余值的T
12. 为T选择值7
13. 选择只有一个剩余值的R
14. 为R选择值8
15. W和U的最小剩余值都为2，选择W
16. 0不能通过前向检验，为W选择值3。同时U为{6}
17. 选择U，值为6



### 6.11 用**AC-3**算法说明弧相容对**图6.1**中问题能够检测出部分赋值，$WA=red$，$V=blue$的不相容。

- (SA,WA)消除不相容，可得SA={G,B}
- (SA,V)消除不相容，可得SA={G}
- 同理可得NT={B},NSW={R}
- (Q,NT)消除不相容，可得Q={R,G}
- (Q,NSW)消除不相容，可得Q={G}
- (Q,SA)消除不相容，可得Q=$\emptyset$

所以{WA=R,V=B}不相容。



### 6.12 用**AC-3**算法求解树结构**CSP**在最坏情况下的复杂度是多少?

- 不妨设有$n$个变量，变量值域最大为d个元素
- 树结构下，弧的数量为$O(n)$，检验一条弧的相容性可以在$O(d^2)$时间内完成
- 弧相容队列采用逆拓扑排序结构，即可无需重复检验，每条弧仅检验一次，故总复杂度为$O(nd^2)$