# AI_HW2

PB19111713钟颖康



### 4.1 跟踪$A^*$搜索算法用直线距离启发式求解从Lugoj到Bucharest问题的过程。按顺序列出算法扩展的节点和每个节点的$f,g,h$值。

以下用$L$表示$Lugoj$，用$M$表示$Mehadia$，用$T$表示$Timisoara$，用$D$表示$Dobreta$，用$C$表示$Craiova$，用$P$表示$Pitesti$，用$R$表示$Rimnicu$，用$A$表示$Arad$，用$B$表示$Burcharst$.

- 初始状态：
  - 待扩展：L[244=0+244]
- 扩展$L(g=0)$
  - 待扩展：M[311=70+241], T[440=111+329]
- 扩展$M(g=70)$
  - 待扩展：L[384=140+244], D[387=145+242], T[440=111+329]
- 扩展$L(g=140)$
  - 待扩展：D[387=145+242], T[440=111+329], M[451=210+241], T[580=251+329]
- 扩展$D(g=145)$
  - 待扩展：C[425=265+160], T[440=111+329], M[451=210+241], M[461=220+241], T[580=251+329]
- 扩展$C(g=256)$
  - 待扩展：T[440=111+329], M[451=210+241], M[461=220+241], P[503=403+100], T[580=251+329], R[604=411+193], D[627=385+242]
- 扩展$T(g=111)$
  - 待扩展：M[451=210+241], M[461=220+241], L[466=222+244], P[503=403+100], T[580=251+329], A[595=229+366], R[604=411+193], D[627=385+242]
- 扩展$M(g=210)$
  - 待扩展：M[461=220+241], L[466=222+244], P[503=403+100], L[524=280+244], D[527=285+242], T[580=251+329], A[595=229+366], R[604=411+193], D[627=385+242]
- 扩展$M(g=220)$
  - 待扩展：L[466=222+244], P[503=403+100], L[524=280+244], D[527=285+242], L[534=290+244], D[537=295+242], T[580=251+329], A[595=229+366], R[604=411+193], D[627=385+242]
- 扩展$L(g=222)$
  - 待扩展：P[503=403+100], L[524=280+244], D[527=285+242], M[533=292+241], L[534=290+244], D[537=295+242],
    T[580=251+329], A[595=229+366], R[604=411+193], D[627=385+242], T[662=333+329]
- 扩展$P(g=403)$
  - 待扩展：**B[504=504+0]**, L[524=280+244], D[527=285+242], M[533=292+241], L[534=290+244], D[537=295+242], T[580=251+329], A[595=229+366], R[604=411+193], D[627=385+242], T[662=333+329], R[693=500+193], C[701=541+160]

拓展$Bucharest$结束。



### 4.2 启发式路径算法是一个最佳优先搜索，它的目标函数是$f(n)=(2−w)g(n)+wh(n)$。算法中$w$取什么值能保证算法是最优的?当$w=0$时，这个算法是什么搜索?$w=1$呢?$w=2$呢?

- 当$w=0,f(n)=2g(n)$时，为一致代价搜索。
- 当$w=1,f(n)=g(n)+h(n)$时，为$A*$搜索。
- 当$w=2,f(n)=2h(n)$时，为贪婪最佳优先搜索。
- 当$w=2$时为贪婪最佳优先搜索，不是最优的，故考虑$w\neq2$的情况：$f(n)=(2-w)\times(g(n)+\frac{wh(n)}{2-w})$，此时要保证算法最优只需保证$\frac{wh(n)}{2-w}\leq h(n)$，故$w\leq1$即可保证算法是最优的。



### 4.6 设计一个启发函数，使它在八数码游戏中有时会估计过高，并说明它在什么样的特殊问题下会导致非最优解。(可以借助计算机的帮助。)证明：如果$h$被高估的部分从来不超过$c$，$A∗$算法返回的解的耗散比最优解的耗散多出的部分也不超过$c$。

- 令$h=h_1+h_2$，其中$h_1=$不在位的棋子数，$h_2=$所有棋子到其目标位置的距离和。

- 导致非最优解的特殊问题：
  $$
  \begin{matrix}1 & 2 & 5 \\ 6 & 3 & 4 \\ 7 & 8 & *\end{matrix}
  $$

- 证明：
  1. 由于$h$被高估的部分不超过$c$，即$h(x)\leq h'(x)+c$，设采用高估启发式函数返回的解目标节点是$G$，最优目标节点是$G_0$.
  2. 以下采用反证法：设耗散多出的部分超过$c$，即$g(G)-g(G_0)>c$，有$f(G)-f(G_0)=g(G)-g(G_0)+h(G)-h(G_0)>c$
  3. 根据题意，$h(G)\leq h'(G)+c,h(G_0)\leq h'(G_0)+c$，故$|h(G)-h(G_0)\leq c|$.
  4. 结合2.与3.可知$f(G)-f(G_0)>0$，而此时必定会先拓展$G_0$，与返回的解目标节点为$G$矛盾，故假设不成立，原命题为真，即返回的解的耗散比最优解的耗散多出的部分也不超过$c$.



### 4.7 证明如果一个启发式是一致的，它肯定是可采纳的。构造一个非一致的可采纳启发式。

- 不妨设启发式$h(n)$是一致的，则对于每个节点$n$和通过任何行动$a$生成的后继节点$n'$均有$h(n)\leq c(n,a,n')+h(n')$，即$h(n)-h(n')\leq c(n,a,n')$.

  - 设初始节点为$n_0$，$n_i$的后继为$n_{i+1},i=0,1,...$，目标节点为$n_N$​，则
    $$
    h(n_i)-h(n_{i+1})\leq c(n_i,a[i][i+1],n_{i+1}),\ i=0,1,...,N-1
    $$
  
- 累加可得
    $$
    h(n_0)-h(n_N)\leq \sum_{i=0}^{N-1}{c(n_i,a[i][i+1],n_{i+1})}=actual\_cost(n_0,n_N)
    $$
    
  - 综上，一致的启发式可采纳。

- 非一致的可采纳启发式：

  - 在路径$a——b——c$中，$a——b$的实际耗散为2，$b——c$的实际耗散为2，$h(a)=4,h(b)=1,h(c)=0$
  - 没有高估实际耗散，故可采纳；
  - $h(a)=4>1+2=h(b)+cost(a,b)$，故非一致。